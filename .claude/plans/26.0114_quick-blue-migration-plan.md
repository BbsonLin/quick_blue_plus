# quick_blue_plus é·ç§»è¨ˆç•«

**å°ˆæ¡ˆç›®æ¨™ï¼š** å°‡ quick_blue é·ç§»åˆ° Flutter 3.38.5ï¼ˆ3.24+ï¼‰ä¸¦é¦–å…ˆæ”¯æ´ Windows å¹³å°

**æ–°å°ˆæ¡ˆä½ç½®ï¼š** `D:\Workspace\quick_blue_plus`

**åŸå°ˆæ¡ˆä½ç½®ï¼š** `D:\Workspace\quick_blue`

**å»ºç«‹æ—¥æœŸï¼š** 2026-01-14

---

## å°ˆæ¡ˆæ¶æ§‹

```
D:\Workspace\quick_blue_plus\
â”œâ”€â”€ .claude\
â”‚   â””â”€â”€ plans\                              # æœ¬è¨ˆç•«æ–‡æª”
â”œâ”€â”€ quick_blue_plus_platform_interface\     # å¹³å°ä»‹é¢å®šç¾©
â”œâ”€â”€ quick_blue_plus_windows\                # Windows å¯¦ç¾ (å„ªå…ˆ)
â”œâ”€â”€ quick_blue_plus\                        # ä¸»å¥—ä»¶
â””â”€â”€ quick_blue_plus_example\                # ç¯„ä¾‹æ‡‰ç”¨
```

---

## éšæ®µ 0ï¼šå°ˆæ¡ˆåˆå§‹åŒ– ğŸš€

**ç›®æ¨™ï¼š** å»ºç«‹æ–°å°ˆæ¡ˆåŸºç¤æ¶æ§‹

### å·¥ä½œé …ç›®

- [ ] å»ºç«‹å°ˆæ¡ˆæ ¹ç›®éŒ„çµæ§‹
- [ ] è¨­ç½® monorepo æˆ–ç¨ç«‹å¥—ä»¶çµæ§‹
- [ ] å»ºç«‹ `.gitignore` èˆ‡ç‰ˆæœ¬æ§åˆ¶é…ç½®
- [ ] å»ºç«‹ `melos.yaml`ï¼ˆå¯é¸ï¼Œç”¨æ–¼ç®¡ç†å¤šå¥—ä»¶ï¼‰

### ç”¢å‡º

- åŸºç¤ç›®éŒ„çµæ§‹
- ç‰ˆæœ¬æ§åˆ¶é…ç½®

**é ä¼°æ™‚é–“ï¼š** 0.5 å¤©

---

## éšæ®µ 1ï¼šPlatform Interface é·ç§» ğŸ“

**ç›®æ¨™ï¼š** å»ºç«‹çµ±ä¸€çš„å¹³å°ä»‹é¢å±¤

### æª”æ¡ˆçµæ§‹

```
quick_blue_plus_platform_interface\
â”œâ”€â”€ lib\
â”‚   â”œâ”€â”€ quick_blue_plus_platform_interface.dart
â”‚   â”œâ”€â”€ src\
â”‚   â”‚   â”œâ”€â”€ method_channel_quick_blue_plus.dart
â”‚   â”‚   â””â”€â”€ models\
â”‚   â”‚       â”œâ”€â”€ bluetooth_device.dart
â”‚   â”‚       â”œâ”€â”€ bluetooth_characteristic.dart
â”‚   â”‚       â””â”€â”€ bluetooth_service.dart
â”œâ”€â”€ test\
â””â”€â”€ pubspec.yaml
```

### å·¥ä½œé …ç›®

- [ ] è¤‡è£½ `quick_blue_platform_interface` ä»£ç¢¼
- [ ] é‡æ–°å‘½åæ‰€æœ‰é¡åˆ¥èˆ‡æª”æ¡ˆï¼ˆquick_blue â†’ quick_blue_plusï¼‰
- [ ] æ›´æ–° `pubspec.yaml`:
  ```yaml
  name: quick_blue_plus_platform_interface
  version: 1.0.0
  description: Platform interface for quick_blue_plus plugin

  environment:
    sdk: ">=3.5.0 <4.0.0"
    flutter: ">=3.24.0"

  dependencies:
    flutter:
      sdk: flutter
    plugin_platform_interface: ^2.1.8
    logging: ^1.2.0

  dev_dependencies:
    flutter_test:
      sdk: flutter
  ```
- [ ] æ›´æ–°æ‰€æœ‰é¡åˆ¥å‘½åï¼š
  - `QuickBluePlatform` â†’ `QuickBluePlusPlatform`
  - `MethodChannelQuickBlue` â†’ `MethodChannelQuickBluePlus`
- [ ] æ›´æ–° channel åç¨±ï¼š
  - `quick_blue/method` â†’ `quick_blue_plus/method`
  - `quick_blue/event.scanResult` â†’ `quick_blue_plus/event.scanResult`
  - `quick_blue/message.connector` â†’ `quick_blue_plus/message.connector`
- [ ] æª¢æŸ¥ä¸¦æ‡‰ç”¨ Dart 3+ èªæ³•æ”¹é€²ï¼š
  - Null safety ç¢ºèª
  - Recordsï¼ˆå¦‚é©ç”¨ï¼‰
  - Pattern matchingï¼ˆå¦‚é©ç”¨ï¼‰
  - Sealed classesï¼ˆå¦‚é©ç”¨ï¼‰
- [ ] é‹è¡Œ `dart analyze` ç¢ºä¿ç„¡éŒ¯èª¤
- [ ] é‹è¡Œå–®å…ƒæ¸¬è©¦ï¼ˆå¦‚æœ‰ï¼‰

### ç”¢å‡º

- å®Œæ•´çš„å¹³å°ä»‹é¢å¥—ä»¶
- ç„¡éœæ…‹åˆ†æéŒ¯èª¤

**é ä¼°æ™‚é–“ï¼š** 1 å¤©

---

## éšæ®µ 2ï¼šWindows å¹³å°å¯¦ç¾é·ç§» ğŸªŸ

**ç›®æ¨™ï¼š** é·ç§»ä¸¦å‡ç´š Windows åŸç”Ÿå¯¦ç¾

### æª”æ¡ˆçµæ§‹

```
quick_blue_plus_windows\
â”œâ”€â”€ lib\
â”‚   â””â”€â”€ quick_blue_plus_windows.dart
â”œâ”€â”€ windows\
â”‚   â”œâ”€â”€ include\
â”‚   â”‚   â””â”€â”€ quick_blue_plus_windows\
â”‚   â”‚       â””â”€â”€ quick_blue_plus_windows_plugin.h
â”‚   â”œâ”€â”€ CMakeLists.txt
â”‚   â””â”€â”€ quick_blue_plus_windows_plugin.cpp
â”œâ”€â”€ test\
â””â”€â”€ pubspec.yaml
```

### 2.1 Dart å±¤é·ç§»

**å·¥ä½œé …ç›®ï¼š**

- [ ] è¤‡è£½ `quick_blue_windows/lib` åˆ°æ–°å°ˆæ¡ˆ
- [ ] é‡å‘½åä¸»æª”æ¡ˆï¼š`quick_blue_windows.dart` â†’ `quick_blue_plus_windows.dart`
- [ ] æ›´æ–°é¡åˆ¥åç¨±ï¼š
  - `QuickBlueWindows` â†’ `QuickBluePlusWindows`
  - `QuickBlueWindowsPlugin` â†’ `QuickBluePlusWindowsPlugin`
- [ ] æ›´æ–° `pubspec.yaml`:
  ```yaml
  name: quick_blue_plus_windows
  version: 1.0.0
  description: Windows implementation of quick_blue_plus plugin

  environment:
    sdk: ">=3.5.0 <4.0.0"
    flutter: ">=3.24.0"

  dependencies:
    flutter:
      sdk: flutter
    quick_blue_plus_platform_interface: ^1.0.0

  dev_dependencies:
    flutter_test:
      sdk: flutter

  flutter:
    plugin:
      platforms:
        windows:
          pluginClass: QuickBluePlusWindowsPlugin
  ```
- [ ] æ›´æ–° method channel è¨»å†Šä»£ç¢¼

### 2.2 C++ ä»£ç¢¼é·ç§»

**å·¥ä½œé …ç›®ï¼š**

- [ ] è¤‡è£½ `windows/` ç›®éŒ„æ‰€æœ‰æª”æ¡ˆ
- [ ] æ›´æ–°æ¨™é ­æª”è·¯å¾‘ï¼š
  - `include/quick_blue_windows/` â†’ `include/quick_blue_plus_windows/`
- [ ] é‡å‘½åé¡åˆ¥ï¼š
  ```cpp
  // èˆŠ: class QuickBlueWindowsPlugin
  // æ–°: class QuickBluePlusWindowsPlugin
  ```
- [ ] æ›´æ–° channel åç¨±ï¼š
  ```cpp
  // Method channel
  "quick_blue/method" â†’ "quick_blue_plus/method"

  // Event channel
  "quick_blue/event.scanResult" â†’ "quick_blue_plus/event.scanResult"

  // Message channel
  "quick_blue/message.connector" â†’ "quick_blue_plus/message.connector"
  ```
- [ ] æ›´æ–°è¨»å†Šå‡½æ•¸ï¼š
  ```cpp
  // èˆŠ: QuickBlueWindowsPluginRegisterWithRegistrar
  // æ–°: QuickBluePlusWindowsPluginRegisterWithRegistrar
  ```
- [ ] æª¢æŸ¥ Flutter åµŒå…¥ API å…¼å®¹æ€§ï¼š
  - [ ] `flutter::StreamHandler` ä»‹é¢
  - [ ] `flutter::MethodChannel` API
  - [ ] `flutter::EventChannel` API
  - [ ] `flutter::BasicMessageChannel` API
  - [ ] `flutter::StreamHandlerFunctions` API

### 2.3 CMake é…ç½®æ›´æ–°

**å·¥ä½œé …ç›®ï¼š**

- [ ] æ›´æ–° `CMakeLists.txt`:
  ```cmake
  cmake_minimum_required(VERSION 3.22)  # Flutter 3.24+ è¦æ±‚
  set(PROJECT_NAME "quick_blue_plus_windows")
  project(${PROJECT_NAME} LANGUAGES CXX)

  set(PLUGIN_NAME "${PROJECT_NAME}_plugin")
  ```
- [ ] æª¢æŸ¥ C++/WinRT NuGet å¥—ä»¶ç‰ˆæœ¬ï¼š
  ```cmake
  # å¯èƒ½éœ€è¦å‡ç´šç‰ˆæœ¬
  exec_program(${NUGET_EXE}
      ARGS install "Microsoft.Windows.CppWinRT" -Version 2.0.230706.1 -ExcludeVersion -OutputDirectory ${CMAKE_BINARY_DIR}/packages)
  ```
- [ ] ç¢ºèª C++ æ¨™æº–ç‰ˆæœ¬ï¼ˆC++17 æˆ– C++20ï¼‰
- [ ] æ›´æ–°ç›®æ¨™é€£çµé…ç½®

### 2.4 Windows API å…¼å®¹æ€§æ¸¬è©¦

**å·¥ä½œé …ç›®ï¼š**

- [ ] ç·¨è­¯æ¸¬è©¦ï¼ˆ`flutter build windows`ï¼‰
- [ ] è§£æ±ºç·¨è­¯éŒ¯èª¤ï¼ˆå¦‚æœ‰ï¼‰
- [ ] æª¢æŸ¥ WinRT Bluetooth APIsï¼š
  - `Windows.Devices.Bluetooth`
  - `Windows.Devices.Bluetooth.Advertisement`
  - `Windows.Devices.Bluetooth.GenericAttributeProfile`
- [ ] é©—è­‰éåŒæ­¥æ“ä½œï¼ˆ`IAsyncOperation`ï¼‰
- [ ] æ¸¬è©¦äº‹ä»¶è™•ç†ï¼ˆ`winrt::event_token`ï¼‰

### é—œéµ API æª¢æŸ¥æ¸…å–®

- [ ] `BluetoothLEAdvertisementWatcher`
- [ ] `BluetoothLEDevice::FromBluetoothAddressAsync`
- [ ] `GattDeviceService`
- [ ] `GattCharacteristic`
- [ ] `GattSession` (MTU ç›¸é—œ)
- [ ] `Radio` (è—ç‰™ç‹€æ…‹)

### ç”¢å‡º

- å¯ç·¨è­¯çš„ Windows æ’ä»¶
- ç„¡ç·¨è­¯éŒ¯èª¤èˆ‡è­¦å‘Š

**é ä¼°æ™‚é–“ï¼š** 2-3 å¤©

---

## éšæ®µ 3ï¼šä¸»å¥—ä»¶å»ºç«‹ ğŸ“¦

**ç›®æ¨™ï¼š** å»ºç«‹çµ±ä¸€çš„ API å…¥å£

### æª”æ¡ˆçµæ§‹

```
quick_blue_plus\
â”œâ”€â”€ lib\
â”‚   â”œâ”€â”€ quick_blue_plus.dart              # ä¸»å…¥å£
â”‚   â”œâ”€â”€ src\
â”‚   â”‚   â”œâ”€â”€ quick_blue_plus_impl.dart
â”‚   â”‚   â””â”€â”€ models\
â”‚   â”‚       â”œâ”€â”€ bluetooth_device.dart
â”‚   â”‚       â”œâ”€â”€ bluetooth_service.dart
â”‚   â”‚       â”œâ”€â”€ bluetooth_characteristic.dart
â”‚   â”‚       â””â”€â”€ bluetooth_manager.dart
â”œâ”€â”€ android\                               # (é ç•™)
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ ios\                                   # (é ç•™)
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ example\                               # è»Ÿé€£çµæˆ–åƒè€ƒ
â”œâ”€â”€ test\
â””â”€â”€ pubspec.yaml
```

### å·¥ä½œé …ç›®

- [ ] å»ºç«‹ä¸»å¥—ä»¶ç›®éŒ„çµæ§‹
- [ ] è¤‡è£½ä¸¦èª¿æ•´ `quick_blue/lib` ä»£ç¢¼
- [ ] æ›´æ–°æ‰€æœ‰é¡åˆ¥å‘½å
- [ ] è¨­ç½® federated plugin é…ç½®ï¼š
  ```yaml
  plugin:
    platforms:
      windows:
        default_package: quick_blue_plus_windows
      # é ç•™å…¶ä»–å¹³å°
      # android:
      #   default_package: quick_blue_plus_android
      # ios:
      #   default_package: quick_blue_plus_ios
      # macos:
      #   default_package: quick_blue_plus_macos
      # linux:
      #   default_package: quick_blue_plus_linux
  ```
- [ ] æ›´æ–° `pubspec.yaml`:
  ```yaml
  name: quick_blue_plus
  version: 1.0.0
  description: A cross-platform BluetoothLE plugin for Flutter (Windows first)
  homepage: https://github.com/yourusername/quick_blue_plus

  environment:
    sdk: ">=3.5.0 <4.0.0"
    flutter: ">=3.24.0"

  dependencies:
    flutter:
      sdk: flutter
    quick_blue_plus_platform_interface: ^1.0.0
    quick_blue_plus_windows: ^1.0.0
    convert: ^3.1.1

  dev_dependencies:
    flutter_test:
      sdk: flutter
    flutter_lints: ^5.0.0
  ```
- [ ] å»ºç«‹çµ±ä¸€çš„å…¬é–‹ APIï¼š
  ```dart
  // ä¸»è¦é¡åˆ¥
  class QuickBluePlus {
    static Future<bool> isBluetoothAvailable();
    static void startScan();
    static void stopScan();
    static Stream<BluetoothDevice> get scanResultStream;
    static Future<void> connect(String deviceId);
    static Future<void> disconnect(String deviceId);
    // ... å…¶ä»–æ–¹æ³•
  }
  ```
- [ ] å¯¦ç¾äº‹ä»¶æµè™•ç†
- [ ] æ·»åŠ éŒ¯èª¤è™•ç†
- [ ] æ’°å¯« API æ–‡æª”è¨»è§£

### ç”¢å‡º

- å®Œæ•´çš„ä¸»å¥—ä»¶
- æ¸…æ™°çš„å…¬é–‹ API

**é ä¼°æ™‚é–“ï¼š** 1 å¤©

---

## éšæ®µ 4ï¼šç¯„ä¾‹æ‡‰ç”¨å»ºç«‹ ğŸ¨

**ç›®æ¨™ï¼š** å»ºç«‹å¯é‹è¡Œçš„æ¸¬è©¦æ‡‰ç”¨

### å»ºç«‹æ­¥é©Ÿ

```bash
cd D:\Workspace\quick_blue_plus
flutter create --platforms=windows quick_blue_plus_example
```

### å·¥ä½œé …ç›®

- [ ] ä½¿ç”¨ `flutter create` å»ºç«‹å°ˆæ¡ˆ
- [ ] é…ç½®æœ¬åœ°ä¾è³´ï¼š
  ```yaml
  dependencies:
    flutter:
      sdk: flutter
    quick_blue_plus:
      path: ../quick_blue_plus
    cupertino_icons: ^1.0.8
    convert: ^3.1.1
    logging: ^1.2.0

  dependency_overrides:
    quick_blue_plus_platform_interface:
      path: ../quick_blue_plus_platform_interface
    quick_blue_plus_windows:
      path: ../quick_blue_plus_windows
  ```
- [ ] è¤‡è£½èˆŠç¯„ä¾‹çš„ UI ä»£ç¢¼ä¸¦èª¿æ•´
- [ ] å»ºç«‹åŠŸèƒ½é é¢ï¼š
  - [ ] **æƒæé é¢**ï¼šé¡¯ç¤ºè—ç‰™è£ç½®åˆ—è¡¨
  - [ ] **è£ç½®è©³æƒ…é **ï¼šé€£æ¥ç‹€æ…‹ã€æœå‹™åˆ—è¡¨
  - [ ] **ç‰¹å¾µäº’å‹•é **ï¼šè®€å–ã€å¯«å…¥ã€è¨‚é–±é€šçŸ¥
- [ ] å¯¦ç¾æ ¸å¿ƒåŠŸèƒ½ï¼š
  ```dart
  // ä¸»è¦åŠŸèƒ½ç¯„ä¾‹
  - æª¢æŸ¥è—ç‰™ç‹€æ…‹
  - é–‹å§‹/åœæ­¢æƒæ
  - é¡¯ç¤ºæƒæçµæœï¼ˆè£ç½®åç¨±ã€MACã€RSSIï¼‰
  - é€£æ¥/æ–·é–‹è£ç½®
  - ç™¼ç¾æœå‹™èˆ‡ç‰¹å¾µ
  - è®€å–ç‰¹å¾µå€¼
  - å¯«å…¥ç‰¹å¾µå€¼
  - è¨‚é–±é€šçŸ¥
  - è«‹æ±‚ MTU
  ```
- [ ] æ·»åŠ æ—¥èªŒè¼¸å‡ºï¼ˆä½¿ç”¨ `logging` å¥—ä»¶ï¼‰
- [ ] æ·»åŠ éŒ¯èª¤è™•ç†èˆ‡æç¤º
- [ ] ç¾åŒ– UIï¼ˆå¯é¸ï¼‰

### UI åƒè€ƒçµæ§‹

```dart
// å»ºè­°çš„é é¢çµæ§‹
- HomePage
  â”œâ”€â”€ AppBar (æ¨™é¡Œã€è—ç‰™ç‹€æ…‹)
  â”œâ”€â”€ æƒææ§åˆ¶æŒ‰éˆ•
  â””â”€â”€ è£ç½®åˆ—è¡¨ (ListView)
      â””â”€â”€ DeviceTile (é»æ“Šé€²å…¥è©³æƒ…)

- DeviceDetailPage
  â”œâ”€â”€ é€£æ¥ç‹€æ…‹æŒ‡ç¤ºå™¨
  â”œâ”€â”€ é€£æ¥/æ–·é–‹æŒ‰éˆ•
  â”œâ”€â”€ ç™¼ç¾æœå‹™æŒ‰éˆ•
  â””â”€â”€ æœå‹™åˆ—è¡¨ (ExpansionTile)
      â””â”€â”€ ç‰¹å¾µåˆ—è¡¨
          â”œâ”€â”€ è®€å–æŒ‰éˆ•
          â”œâ”€â”€ å¯«å…¥æŒ‰éˆ•
          â””â”€â”€ è¨‚é–±é–‹é—œ
```

### ç”¢å‡º

- åŠŸèƒ½å®Œæ•´çš„ç¯„ä¾‹æ‡‰ç”¨
- å¯åœ¨ Windows ä¸Šé‹è¡Œ

**é ä¼°æ™‚é–“ï¼š** 1 å¤©

---

## éšæ®µ 5ï¼šæ•´åˆæ¸¬è©¦èˆ‡é©—è­‰ âœ…

**ç›®æ¨™ï¼š** ç¢ºä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œ

### 5.1 ç·¨è­¯æ¸¬è©¦

**å·¥ä½œé …ç›®ï¼š**

- [ ] Windows å¹³å°ç·¨è­¯ç„¡éŒ¯èª¤
  ```bash
  cd quick_blue_plus_example
  flutter clean
  flutter pub get
  flutter build windows
  ```
- [ ] æ‰€æœ‰ä¾è³´æ­£ç¢ºè§£æ
- [ ] CMake ç”ŸæˆæˆåŠŸ
- [ ] ç„¡éˆæ¥éŒ¯èª¤

### 5.2 åŠŸèƒ½æ¸¬è©¦

**åŸºç¤åŠŸèƒ½æ¸¬è©¦æ¸…å–®ï¼š**

- [ ] **è—ç‰™ç‹€æ…‹æª¢æŸ¥**
  - [ ] `isBluetoothAvailable()` è¿”å›æ­£ç¢ºç‹€æ…‹
  - [ ] è—ç‰™é—œé–‰æ™‚é¡¯ç¤ºæ­£ç¢ºæç¤º

- [ ] **è£ç½®æƒæ**
  - [ ] `startScan()` æˆåŠŸå•Ÿå‹•æƒæ
  - [ ] æƒæçµæœæµæ­£ç¢ºæ¥æ”¶è³‡æ–™
  - [ ] é¡¯ç¤ºè£ç½®åç¨±ã€IDã€RSSI
  - [ ] é¡¯ç¤º manufacturerData
  - [ ] `stopScan()` æ­£ç¢ºåœæ­¢æƒæ

- [ ] **è£ç½®é€£æ¥**
  - [ ] `connect()` æˆåŠŸé€£æ¥è£ç½®
  - [ ] é€£æ¥ç‹€æ…‹è®Šæ›´é€šçŸ¥æ­£ç¢ºè§¸ç™¼
  - [ ] é¡¯ç¤º "connected" ç‹€æ…‹
  - [ ] é€£æ¥å¤±æ•—æœ‰éŒ¯èª¤æç¤º

- [ ] **è£ç½®æ–·é–‹**
  - [ ] `disconnect()` æ­£ç¢ºæ–·é–‹é€£æ¥
  - [ ] ç‹€æ…‹è®Šæ›´ç‚º "disconnected"
  - [ ] æ¸…ç†é€£æ¥è³‡æº

- [ ] **æœå‹™ç™¼ç¾**
  - [ ] `discoverServices()` è¿”å›æœå‹™åˆ—è¡¨
  - [ ] é¡¯ç¤ºæœå‹™ UUID
  - [ ] é¡¯ç¤ºç‰¹å¾µ UUID
  - [ ] ç‰¹å¾µå±¬æ€§æ­£ç¢ºï¼ˆread/write/notifyï¼‰

- [ ] **ç‰¹å¾µè®€å–**
  - [ ] `readValue()` è¿”å›æ­£ç¢ºè³‡æ–™
  - [ ] è³‡æ–™æ ¼å¼æ­£ç¢ºï¼ˆbyte arrayï¼‰
  - [ ] è®€å–å¤±æ•—æœ‰éŒ¯èª¤æç¤º

- [ ] **ç‰¹å¾µå¯«å…¥**
  - [ ] `writeValue()` æˆåŠŸå¯«å…¥ï¼ˆwith responseï¼‰
  - [ ] `writeValue()` æˆåŠŸå¯«å…¥ï¼ˆwithout responseï¼‰
  - [ ] å¯«å…¥å¤±æ•—æœ‰éŒ¯èª¤æç¤º

- [ ] **é€šçŸ¥è¨‚é–±**
  - [ ] `setNotifiable()` æˆåŠŸè¨‚é–±
  - [ ] æ¥æ”¶é€šçŸ¥è³‡æ–™
  - [ ] è³‡æ–™è®Šæ›´æµæ­£ç¢ºè§¸ç™¼
  - [ ] å–æ¶ˆè¨‚é–±æ­£å¸¸å·¥ä½œ

- [ ] **MTU è«‹æ±‚**
  - [ ] `requestMtu()` æˆåŠŸè«‹æ±‚
  - [ ] è¿”å›å¯¦éš› MTU å€¼
  - [ ] MTU å€¼åˆç†ï¼ˆé€šå¸¸ 20-512ï¼‰

### 5.3 é‚Šç·£æ¡ˆä¾‹æ¸¬è©¦

**å·¥ä½œé …ç›®ï¼š**

- [ ] **å¤šè£ç½®è™•ç†**
  - [ ] åŒæ™‚é€£æ¥å¤šå€‹è£ç½®
  - [ ] è£ç½®åˆ‡æ›ç„¡å•é¡Œ
  - [ ] è³‡æ–™ä¸æœƒæ··æ·†

- [ ] **é€£æ¥ç•°å¸¸è™•ç†**
  - [ ] è£ç½®çªç„¶æ–·é–‹é€£æ¥
  - [ ] è¶…å‡ºè—ç‰™ç¯„åœ
  - [ ] è£ç½®é—œæ©Ÿ
  - [ ] ç‹€æ…‹æ­£ç¢ºæ›´æ–°

- [ ] **æ¬Šé™è™•ç†**
  - [ ] è—ç‰™æ¬Šé™æœªæˆäºˆ
  - [ ] è—ç‰™æœªé–‹å•Ÿ
  - [ ] é¡¯ç¤ºé©ç•¶éŒ¯èª¤è¨Šæ¯

- [ ] **è¨˜æ†¶é«”èˆ‡æ•ˆèƒ½**
  - [ ] é•·æ™‚é–“é‹è¡Œç„¡å´©æ½°
  - [ ] è¨˜æ†¶é«”ä½¿ç”¨ç©©å®š
  - [ ] ç„¡è¨˜æ†¶é«”æ´©æ¼
  - [ ] äº‹ä»¶ç›£è½å™¨æ­£ç¢ºæ¸…ç†

### 5.4 éŒ¯èª¤è™•ç†æ¸¬è©¦

**å·¥ä½œé …ç›®ï¼š**

- [ ] é€£æ¥ä¸å­˜åœ¨çš„è£ç½®
- [ ] è®€å–ä¸æ”¯æ´çš„ç‰¹å¾µ
- [ ] å¯«å…¥å”¯è®€ç‰¹å¾µ
- [ ] è¨‚é–±ä¸æ”¯æ´é€šçŸ¥çš„ç‰¹å¾µ
- [ ] æ‰€æœ‰éŒ¯èª¤éƒ½æœ‰é©ç•¶æç¤º

### æ¸¬è©¦è¨˜éŒ„

å»ºç«‹æ¸¬è©¦è¨˜éŒ„è¡¨æ ¼ï¼š

| åŠŸèƒ½ | æ¸¬è©¦ç‹€æ…‹ | å•é¡Œæè¿° | è§£æ±ºæ–¹æ¡ˆ |
|------|----------|----------|----------|
| è—ç‰™ç‹€æ…‹æª¢æŸ¥ | â¬œ å¾…æ¸¬è©¦ |  |  |
| è£ç½®æƒæ | â¬œ å¾…æ¸¬è©¦ |  |  |
| è£ç½®é€£æ¥ | â¬œ å¾…æ¸¬è©¦ |  |  |
| ... | ... | ... | ... |

### ç”¢å‡º

- å®Œæ•´çš„æ¸¬è©¦å ±å‘Š
- åŠŸèƒ½é©—è­‰æ¸…å–®
- å·²çŸ¥å•é¡Œåˆ—è¡¨

**é ä¼°æ™‚é–“ï¼š** 1-2 å¤©

---

## éšæ®µ 6ï¼šæ–‡æª”èˆ‡ç™¼å¸ƒæº–å‚™ ğŸ“š

**ç›®æ¨™ï¼š** å®Œå–„å°ˆæ¡ˆæ–‡æª”èˆ‡ç™¼å¸ƒæº–å‚™

### 6.1 README æ’°å¯«

**å·¥ä½œé …ç›®ï¼š**

- [ ] å»ºç«‹ `README.md`:
  ```markdown
  # quick_blue_plus

  A cross-platform BluetoothLE plugin for Flutter (Windows first)

  ## Features
  - âœ… Windows support
  - â¬œ Android support (planned)
  - â¬œ iOS support (planned)
  - â¬œ macOS support (planned)
  - â¬œ Linux support (planned)

  ## Getting Started

  ### Installation
  ```yaml
  dependencies:
    quick_blue_plus: ^1.0.0
  ```

  ### Usage
  [ç¯„ä¾‹ä»£ç¢¼]

  ### API Documentation
  [API èªªæ˜]

  ### Platform Support
  [å¹³å°æ”¯æ´èªªæ˜]
  ```

### 6.2 CHANGELOG æ’°å¯«

**å·¥ä½œé …ç›®ï¼š**

- [ ] å»ºç«‹ `CHANGELOG.md`:
  ```markdown
  # Changelog

  ## 1.0.0 - 2026-01-XX

  ### Added
  - Initial release
  - Windows platform support
  - Basic BLE operations (scan, connect, read, write, notify)
  - MTU request support

  ### Changed
  - Migrated from quick_blue to quick_blue_plus
  - Updated to Flutter 3.24+
  - Updated to Dart 3.5+

  ### Fixed
  - [åˆ—å‡ºä¿®å¾©çš„å•é¡Œ]
  ```

### 6.3 API æ–‡æª”

**å·¥ä½œé …ç›®ï¼š**

- [ ] ç‚ºæ‰€æœ‰å…¬é–‹ API æ·»åŠ æ–‡æª”è¨»è§£ï¼š
  ```dart
  /// Checks if Bluetooth is available on the device.
  ///
  /// Returns `true` if Bluetooth is available and enabled.
  /// Returns `false` if Bluetooth is unavailable or disabled.
  ///
  /// Example:
  /// ```dart
  /// bool available = await QuickBluePlus.isBluetoothAvailable();
  /// if (!available) {
  ///   print('Bluetooth is not available');
  /// }
  /// ```
  static Future<bool> isBluetoothAvailable() async { ... }
  ```
- [ ] ç”Ÿæˆ API æ–‡æª”ï¼ˆ`dart doc`ï¼‰
- [ ] æª¢æŸ¥æ–‡æª”å®Œæ•´æ€§

### 6.4 å…¶ä»–æ–‡æª”

**å·¥ä½œé …ç›®ï¼š**

- [ ] å»ºç«‹ `LICENSE` æª”æ¡ˆï¼ˆé¸æ“‡é©ç•¶æˆæ¬Šï¼‰
- [ ] å»ºç«‹ `CONTRIBUTING.md`ï¼ˆå¦‚é–‹æºï¼‰
- [ ] å»ºç«‹ `CODE_OF_CONDUCT.md`ï¼ˆå¦‚é–‹æºï¼‰
- [ ] å»ºç«‹å¹³å°ç‰¹å®šæ–‡æª”ï¼š
  - `docs/windows.md` - Windows å¹³å°èªªæ˜
  - `docs/troubleshooting.md` - ç–‘é›£æ’è§£

### 6.5 CI/CD è¨­ç½®

**å·¥ä½œé …ç›®ï¼š**

- [ ] å»ºç«‹ `.github/workflows/build.yml`:
  ```yaml
  name: Build and Test

  on:
    push:
      branches: [ main, develop ]
    pull_request:
      branches: [ main ]

  jobs:
    analyze:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - uses: subosito/flutter-action@v2
        - run: flutter pub get
        - run: flutter analyze

    test:
      runs-on: windows-latest
      steps:
        - uses: actions/checkout@v4
        - uses: subosito/flutter-action@v2
        - run: flutter pub get
        - run: flutter test
        - run: flutter build windows
  ```
- [ ] è¨­ç½®è‡ªå‹•åŒ–æ¸¬è©¦
- [ ] è¨­ç½®ä»£ç¢¼è¦†è“‹ç‡å ±å‘Š

### 6.6 ç™¼å¸ƒæº–å‚™

**å·¥ä½œé …ç›®ï¼š**

- [ ] ç¢ºèªç‰ˆæœ¬è™Ÿï¼ˆéµå¾ªèªç¾©åŒ–ç‰ˆæœ¬ï¼‰
- [ ] æ›´æ–°æ‰€æœ‰ `pubspec.yaml` ç‰ˆæœ¬
- [ ] ç¢ºèªä¾è³´ç‰ˆæœ¬æ­£ç¢º
- [ ] æº–å‚™ pub.dev ç™¼å¸ƒï¼ˆå¦‚éœ€è¦ï¼‰ï¼š
  - [ ] `flutter pub publish --dry-run`
  - [ ] ä¿®å¾©ç™¼å¸ƒæª¢æŸ¥è­¦å‘Š
  - [ ] `flutter pub publish`

### ç”¢å‡º

- å®Œæ•´çš„å°ˆæ¡ˆæ–‡æª”
- CI/CD é…ç½®
- ç™¼å¸ƒå°±ç·’çš„å¥—ä»¶

**é ä¼°æ™‚é–“ï¼š** 0.5 å¤©

---

## æ™‚é–“ç·šç¸½è¦½

| éšæ®µ | å…§å®¹ | é ä¼°æ™‚é–“ | é—œéµç”¢å‡º |
|------|------|----------|----------|
| éšæ®µ 0 | å°ˆæ¡ˆåˆå§‹åŒ– | 0.5 å¤© | å°ˆæ¡ˆçµæ§‹ |
| éšæ®µ 1 | Platform Interface é·ç§» | 1 å¤© | å¹³å°ä»‹é¢å¥—ä»¶ |
| éšæ®µ 2 | Windows å¹³å°å¯¦ç¾é·ç§» | 2-3 å¤© | Windows æ’ä»¶ |
| éšæ®µ 3 | ä¸»å¥—ä»¶å»ºç«‹ | 1 å¤© | ä¸»å¥—ä»¶ API |
| éšæ®µ 4 | ç¯„ä¾‹æ‡‰ç”¨å»ºç«‹ | 1 å¤© | æ¸¬è©¦æ‡‰ç”¨ |
| éšæ®µ 5 | æ•´åˆæ¸¬è©¦èˆ‡é©—è­‰ | 1-2 å¤© | æ¸¬è©¦å ±å‘Š |
| éšæ®µ 6 | æ–‡æª”èˆ‡ç™¼å¸ƒæº–å‚™ | 0.5 å¤© | å®Œæ•´æ–‡æª” |
| **ç¸½è¨ˆ** | | **7-9 å¤©** | **å®Œæ•´å°ˆæ¡ˆ** |

---

## é¢¨éšªæ§åˆ¶èˆ‡æœ€ä½³å¯¦è¸

### ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

1. **æ¯éšæ®µå®Œæˆå¾Œæäº¤ Git**
   ```bash
   git add .
   git commit -m "feat: complete stage X - [description]"
   git tag stage-X
   ```

2. **ä½¿ç”¨åˆ†æ”¯é–‹ç™¼**
   - `main` - ç©©å®šç‰ˆæœ¬
   - `develop` - é–‹ç™¼åˆ†æ”¯
   - `feature/stage-X` - å„éšæ®µåŠŸèƒ½åˆ†æ”¯

3. **ä¿ç•™åŸå°ˆæ¡ˆä½œç‚ºåƒè€ƒ**
   - ä¸è¦åˆªé™¤ `D:\Workspace\quick_blue`
   - éš¨æ™‚å¯å°ç…§åƒè€ƒ

### æ¸¬è©¦ç­–ç•¥

1. **å–®å…ƒæ¸¬è©¦å„ªå…ˆ** - ç‚ºé—œéµé‚è¼¯å¯«æ¸¬è©¦
2. **å¢é‡æ¸¬è©¦** - æ¯å®Œæˆä¸€å€‹åŠŸèƒ½ç«‹å³æ¸¬è©¦
3. **æ•´åˆæ¸¬è©¦** - éšæ®µ 5 é€²è¡Œå®Œæ•´æ¸¬è©¦
4. **çœŸå¯¦è£ç½®æ¸¬è©¦** - ä½¿ç”¨å¯¦éš›è—ç‰™è£ç½®æ¸¬è©¦

### å•é¡Œè¿½è¹¤

å»ºç«‹ `docs/issues.md` è¨˜éŒ„é‡åˆ°çš„å•é¡Œï¼š

```markdown
## å•é¡Œè¨˜éŒ„

### 2026-01-14

#### å•é¡Œï¼šç·¨è­¯éŒ¯èª¤ - æ‰¾ä¸åˆ° flutter/method_channel.h
- **æè¿°ï¼š** [è©³ç´°æè¿°]
- **åŸå› ï¼š** [åˆ†æåŸå› ]
- **è§£æ±ºæ–¹æ¡ˆï¼š** [è§£æ±ºæ­¥é©Ÿ]
- **åƒè€ƒï¼š** [ç›¸é—œé€£çµ]
```

### æ•ˆèƒ½è€ƒé‡

1. **è¨˜æ†¶é«”ç®¡ç†** - æ³¨æ„ C++ ç«¯çš„è³‡æºæ¸…ç†
2. **äº‹ä»¶æµ** - é¿å…äº‹ä»¶ç›£è½å™¨æ´©æ¼
3. **éåŒæ­¥æ“ä½œ** - æ­£ç¢ºè™•ç† async/await
4. **éŒ¯èª¤è™•ç†** - æ‰€æœ‰ API éƒ½è¦æœ‰éŒ¯èª¤è™•ç†

---

## ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³è¡Œå‹•

1. **æª¢æŸ¥ Flutter ç’°å¢ƒ**
   ```bash
   flutter --version
   flutter doctor -v
   ```

2. **å»ºç«‹å°ˆæ¡ˆæ ¹ç›®éŒ„**
   ```bash
   mkdir D:\Workspace\quick_blue_plus
   cd D:\Workspace\quick_blue_plus
   git init
   ```

3. **é–‹å§‹éšæ®µ 0** - å»ºç«‹å°ˆæ¡ˆçµæ§‹

### æª¢æŸ¥æ¸…å–®

åœ¨é–‹å§‹å‰ç¢ºèªï¼š

- [ ] Flutter SDK ç‰ˆæœ¬ >= 3.24.0
- [ ] Dart SDK ç‰ˆæœ¬ >= 3.5.0
- [ ] Visual Studio 2022ï¼ˆå« C++ å·¥å…·ï¼‰
- [ ] CMake å·²å®‰è£
- [ ] NuGet å·²å®‰è£
- [ ] Git å·²é…ç½®
- [ ] å·²å‚™ä»½åŸå°ˆæ¡ˆ

---

## åƒè€ƒè³‡æº

### Flutter å®˜æ–¹æ–‡æª”

- [Developing packages](https://docs.flutter.dev/development/packages-and-plugins/developing-packages)
- [Federated plugins](https://docs.flutter.dev/development/packages-and-plugins/developing-packages#federated-plugins)
- [Windows desktop support](https://docs.flutter.dev/platform-integration/windows/building)

### Windows Bluetooth API

- [Windows.Devices.Bluetooth Namespace](https://docs.microsoft.com/en-us/uwp/api/windows.devices.bluetooth)
- [Bluetooth LE samples](https://github.com/microsoft/windows-universal-samples/tree/main/Samples/BluetoothLE)
- [C++/WinRT documentation](https://docs.microsoft.com/en-us/windows/uwp/cpp-and-winrt-apis/)

### ç›¸é—œå°ˆæ¡ˆ

- [flutter_blue_plus](https://pub.dev/packages/flutter_blue_plus)
- [åŸå§‹ quick_blue](https://github.com/woodemi/quick_blue)

---

## é™„éŒ„

### A. å‘½åå°ç…§è¡¨

| åŸåç¨± | æ–°åç¨± |
|--------|--------|
| `quick_blue` | `quick_blue_plus` |
| `quick_blue_platform_interface` | `quick_blue_plus_platform_interface` |
| `quick_blue_windows` | `quick_blue_plus_windows` |
| `QuickBluePlatform` | `QuickBluePlusPlatform` |
| `QuickBlueWindowsPlugin` | `QuickBluePlusWindowsPlugin` |
| `quick_blue/method` | `quick_blue_plus/method` |

### B. Channel åç¨±å°ç…§

| é¡å‹ | åŸåç¨± | æ–°åç¨± |
|------|--------|--------|
| Method | `quick_blue/method` | `quick_blue_plus/method` |
| Event | `quick_blue/event.scanResult` | `quick_blue_plus/event.scanResult` |
| Message | `quick_blue/message.connector` | `quick_blue_plus/message.connector` |

### C. é—œéµæª”æ¡ˆæ¸…å–®

**Platform Interface:**
- `lib/quick_blue_plus_platform_interface.dart`
- `lib/src/method_channel_quick_blue_plus.dart`

**Windows:**
- `lib/quick_blue_plus_windows.dart`
- `windows/quick_blue_plus_windows_plugin.cpp`
- `windows/include/quick_blue_plus_windows/quick_blue_plus_windows_plugin.h`
- `windows/CMakeLists.txt`

**Main Package:**
- `lib/quick_blue_plus.dart`

**Example:**
- `lib/main.dart`

---

## æ›´æ–°è¨˜éŒ„

- **2026-01-14** - åˆå§‹è¨ˆç•«å»ºç«‹
- [æœªä¾†æ›´æ–°è¨˜éŒ„åœ¨æ­¤]

---

**æœ¬è¨ˆç•«ç‚ºå‹•æ…‹æ–‡æª”ï¼Œéš¨å°ˆæ¡ˆé€²å±•æŒçºŒæ›´æ–°**
